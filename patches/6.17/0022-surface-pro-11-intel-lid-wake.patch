From 8f3e70958ba794ed83c0f1c20a82257c07b2453c Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andr=C3=A9=20Gilerson?= <andre.gilerson@gmail.com>
Date: Sat, 28 Feb 2026 08:34:13 +0100
Subject: [PATCH] Add lid wake support for Surface Pro 11 Intel.

Add the lid GPE (0x2E) used by the Surface Pro 11 with Intel Lunar Lake
processor. The GPE was identified from the DSDT _L2E handler which reads
the lid GPIO pad (0x0018108E) and sends Notify(LID0, 0x80).
---
 drivers/platform/surface/surface_gpe.c | 13 +++++++++++++
 1 file changed, 13 insertions(+)

diff --git a/drivers/platform/surface/surface_gpe.c b/drivers/platform/surface/surface_gpe.c
index b4496db79f39..d7844e26f4fe 100644
--- a/drivers/platform/surface/surface_gpe.c
+++ b/drivers/platform/surface/surface_gpe.c
@@ -51,6 +51,11 @@ static const struct property_entry lid_device_props_l57[] = {
 	{},
 };
 
+static const struct property_entry lid_device_props_l2E[] = {
+	PROPERTY_ENTRY_U32("gpe", 0x2E),
+	{},
+};
+
 /*
  * Note: When changing this, don't forget to check that the MODULE_ALIAS below
  *       still fits.
@@ -208,6 +213,14 @@ static const struct dmi_system_id dmi_lid_device_table[] = {
 		},
 		.driver_data = (void *)lid_device_props_l4B,
 	},
+	{
+		.ident = "Surface Pro 11 (Intel)",
+		.matches = {
+			DMI_EXACT_MATCH(DMI_SYS_VENDOR, "Microsoft Corporation"),
+			DMI_EXACT_MATCH(DMI_PRODUCT_SKU, "Surface_Pro_11th_Edition_With_Intel_For_Business_2103"),
+		},
+		.driver_data = (void *)lid_device_props_l2E,
+	},
 	{ }
 };
 
-- 
2.51.0

